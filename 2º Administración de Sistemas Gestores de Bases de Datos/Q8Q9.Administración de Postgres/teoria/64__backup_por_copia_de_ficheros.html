<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<!-- Created using eXe: http://exelearning.org -->
<head>
<link rel="stylesheet" type="text/css" href="base.css" /><link rel="stylesheet" type="text/css" href="content.css" /><link rel="stylesheet" type="text/css" href="nav.css" /><title>6.4 - Backup por copia de ficheros </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html;  charset=utf-8" />
<script type="text/javascript" src="common.js"></script>
</head>
<body>
<div id="content">
<div id="emptyHeader"></div><div id="siteNav">
<ul>
<li><a href="index.html" class="daddy main-node">Administración de PostgreSQL</a></li><li><a href="1__instalacin.html" class="no-ch">1 - Instalación</a></li>
<li><a href="nota_previa.html" class="no-ch">Nota Previa</a></li>
<li><a href="2_arranque_y_parada_del_sistema.html" class="no-ch">2. Arranque y parada del sistema</a></li>
<li><a href="3__ficheros_de_configuracin.html" class="no-ch">3 - Ficheros de configuración</a></li>
<li><a href="4__gestin_de_usuarios_y_privilegios.html" class="daddy">4 - Gestión de usuarios y privilegios</a><ul class="other-section">
<li><a href="41__gestin_de_roles_utilizacin_como_usuarios.html" class="no-ch">4.1 - Gestión de roles: utilización como usuarios</a></li>
<li><a href="42__gestin_de_roles_utilizacin_como_grupos.html" class="no-ch">4.2 - Gestión de roles: utilización como grupos</a></li>
<li><a href="43__permisos.html" class="no-ch">4.3 - Permisos</a></li>
<li><a href="44__roles_y_miembros.html" class="no-ch">4.4 - Roles y miembros</a></li>
<li><a href="45__autenticacin_de_usuarios.html" class="no-ch">4.5 - Autenticación de usuarios</a></li>
</ul>
</li>
<li><a href="5__gestin_de_bases_de_datos.html" class="daddy">5 - Gestión de Bases de Datos</a><ul class="other-section">
<li><a href="51__bases_de_datos_creacin_modificacin_y_eliminacin.html" class="no-ch">5.1 - Bases de Datos: Creación, Modificación y Eliminación</a></li>
<li><a href="52__esquemas.html" class="no-ch">5.2 - Esquemas</a></li>
<li><a href="53__tablespaces.html" class="no-ch">5.3 - Tablespaces</a></li>
<li><a href="54_lugares_alternativos.html" class="no-ch">5.4 Lugares alternativos</a></li>
</ul>
</li>
<li class="current-page-parent"><a href="6_copia_de_seguridad_y_restauracin.html" class="current-page-parent daddy">6- Copia de seguridad y restauración</a><ul>
<li><a href="61__pg_dump.html" class="no-ch">6.1 - PG_DUMP</a></li>
<li><a href="62__restauracin_del_dump.html" class="no-ch">6.2 - Restauración del DUMP</a></li>
<li><a href="63__backup_desde_pgadmin.html" class="no-ch">6.3 - Backup desde PgAdmin</a></li>
<li id="active"><a href="64__backup_por_copia_de_ficheros.html" class="active no-ch">6.4 - Backup por copia de ficheros</a></li>
</ul>
</div>
<div id='topPagination'><div class="pagination noprt"><a href="63__backup_desde_pgadmin.html" class="prev"><span>&laquo; </span>Anterior</a></div>
</div><div id="main">
<div id="nodeDecoration"><h1 id="nodeTitle">6.4 - Backup por copia de ficheros</h1></div>
<div class="FreeTextIdevice" id="id20">
<div class="iDevice emphasis0">
<div id="ta20_1" class="block" style="display:block;position:relative"><p>&nbsp;</p>
<p>&nbsp;</p>
<p class="MsoBodyText"><span style="font-family: Arial; color: black;">Hab&iacute;amos comentado que hay dos maneras de hacer un backup, una utilizando el </span><strong><em><span>dump</span></em></strong><span style="font-family: Arial; color: black;">, que puede hacer una copia de seguridad en caliente.</span></p>
<p class="MsoBodyText"><span style="font-family: Arial; color: black;">La segunda manera consistir&aacute; sencillamente en copiar todos los ficheros, "a la brava&rdquo;.</span></p>
<p class="MsoBodyText"><span style="font-family: Arial; color: black;">Evidentemente deberemos tener la precauci&oacute;n de hacerlo en fr&iacute;o, sino podemos tener problemas de todo tipo. Por tanto para hacer la copia:</span></p>
<p class="MsoBodyText" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-size: 11.5pt; font-family: Symbol; color: black;"><span>&middot;<span style="font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size: 11.5pt; font-family: Arial; color: black;">Parar el servidor:</span></p>
<div style="border: 1pt solid windowtext; padding: 1pt 4pt; margin-left: 2cm; margin-right: 0cm;">
<p class="MsoBodyText" style="padding: 0cm;"><strong><span style="font-family: 'Courier New'; color: mediumblue;">/etc/init.d/postgresql-8.3 stop</span></strong></p>
</div>
<p class="MsoBodyText" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-size: 11.5pt; font-family: Symbol; color: black;"><span>&middot;<span style="font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size: 11.5pt; font-family: Arial; color: black;">Copiar todos los ficheros, con la estructura de carpetas. En el entorno Linux lo m&aacute;s conveniente es utilizar el </span><strong><em><span style="font-size: 11.5pt;">tar</span></em></strong></p>
<div style="border: 1pt solid windowtext; padding: 1pt 4pt; margin-left: 2cm; margin-right: 0cm;">
<p class="MsoBodyText" style="padding: 0cm;"><strong><span style="font-family: 'Courier New'; color: mediumblue;">tar -cf nombre_fichero_tar /var/lib/postgresql/8.3/main</span></strong></p>
</div>
<p class="MsoBodyText"><span style="font-size: 11.5pt; font-family: Arial; color: black;">que incluso despu&eacute;s podr&iacute;amos comprimir, ...</span></p>
<p class="MsoBodyText" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-size: 11.5pt; font-family: Symbol; color: black;"><span>&middot;<span style="font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size: 11.5pt; font-family: Arial; color: black;">Volver a arrancar el servidor:</span></p>
<div style="border: 1pt solid windowtext; padding: 1pt 4pt; margin-left: 2cm; margin-right: 0cm;">
<p class="MsoBodyText" style="padding: 0cm;"><strong><span style="font-family: 'Courier New'; color: mediumblue;">/etc/init.d/postgresql-8.3 start</span></strong></p>
</div>
<p class="MsoBodyText"><span style="font-family: Arial; color: black;">La restauraci&oacute;n ser&iacute;a el proceso inverso:</span></p>
<div style="border: 1pt solid windowtext; padding: 1pt 4pt; margin-left: 2cm; margin-right: 0cm;">
<p class="MsoBodyText" style="padding: 0cm;"><strong><span style="font-family: 'Courier New'; color: mediumblue;">/etc/init.d/postgresql-8.3 stop</span></strong></p>
</div>
<p class="MsoBodyText"><strong><span style="font-family: 'Courier New'; color: mediumblue;">&nbsp;</span></strong></p>
<div style="border: 1pt solid windowtext; padding: 1pt 4pt; margin-left: 2cm; margin-right: 0cm;">
<p class="MsoBodyText" style="padding: 0cm;"><strong><span style="font-family: 'Courier New'; color: mediumblue;">tar -xf nombre_fichero_tar -C /</span></strong></p>
</div>
<p class="MsoBodyText"><strong><span style="font-family: 'Courier New'; color: mediumblue;">&nbsp;</span></strong></p>
<div style="border: 1pt solid windowtext; padding: 1pt 4pt; margin-left: 2cm; margin-right: 0cm;">
<p class="MsoBodyText" style="padding: 0cm;"><strong><span style="font-family: 'Courier New'; color: mediumblue;">/etc/init.d/postgresql-8.3 start</span></strong></p>
</div>
<p class="MsoBodyText">&nbsp;</p>
<p>&nbsp;</p></div></div>
</div>
<div id='bottomPagination'><div class="pagination noprt"><a href="63__backup_desde_pgadmin.html" class="prev"><span>&laquo; </span>Anterior</a></div>
</div></div>
</div>
</body></html>
