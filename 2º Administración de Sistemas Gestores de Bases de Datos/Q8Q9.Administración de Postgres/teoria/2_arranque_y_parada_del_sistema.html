<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<!-- Created using eXe: http://exelearning.org -->
<head>
<link rel="stylesheet" type="text/css" href="base.css" /><link rel="stylesheet" type="text/css" href="content.css" /><link rel="stylesheet" type="text/css" href="nav.css" /><title>2. Arranque y parada del sistema </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html;  charset=utf-8" />
<script type="text/javascript" src="common.js"></script>
</head>
<body>
<div id="content">
<div id="emptyHeader"></div><div id="siteNav">
<ul>
<li><a href="index.html" class="daddy main-node">Administración de PostgreSQL</a></li><li><a href="1__instalacin.html" class="no-ch">1 - Instalación</a></li>
<li><a href="nota_previa.html" class="no-ch">Nota Previa</a></li>
<li id="active"><a href="2_arranque_y_parada_del_sistema.html" class="active no-ch">2. Arranque y parada del sistema</a></li>
<li><a href="3__ficheros_de_configuracin.html" class="no-ch">3 - Ficheros de configuración</a></li>
<li><a href="4__gestin_de_usuarios_y_privilegios.html" class="daddy">4 - Gestión de usuarios y privilegios</a><ul class="other-section">
<li><a href="41__gestin_de_roles_utilizacin_como_usuarios.html" class="no-ch">4.1 - Gestión de roles: utilización como usuarios</a></li>
<li><a href="42__gestin_de_roles_utilizacin_como_grupos.html" class="no-ch">4.2 - Gestión de roles: utilización como grupos</a></li>
<li><a href="43__permisos.html" class="no-ch">4.3 - Permisos</a></li>
<li><a href="44__roles_y_miembros.html" class="no-ch">4.4 - Roles y miembros</a></li>
<li><a href="45__autenticacin_de_usuarios.html" class="no-ch">4.5 - Autenticación de usuarios</a></li>
</ul>
</li>
<li><a href="5__gestin_de_bases_de_datos.html" class="daddy">5 - Gestión de Bases de Datos</a><ul class="other-section">
<li><a href="51__bases_de_datos_creacin_modificacin_y_eliminacin.html" class="no-ch">5.1 - Bases de Datos: Creación, Modificación y Eliminación</a></li>
<li><a href="52__esquemas.html" class="no-ch">5.2 - Esquemas</a></li>
<li><a href="53__tablespaces.html" class="no-ch">5.3 - Tablespaces</a></li>
<li><a href="54_lugares_alternativos.html" class="no-ch">5.4 Lugares alternativos</a></li>
</ul>
</li>
<li><a href="6_copia_de_seguridad_y_restauracin.html" class="daddy">6- Copia de seguridad y restauración</a><ul class="other-section">
<li><a href="61__pg_dump.html" class="no-ch">6.1 - PG_DUMP</a></li>
<li><a href="62__restauracin_del_dump.html" class="no-ch">6.2 - Restauración del DUMP</a></li>
<li><a href="63__backup_desde_pgadmin.html" class="no-ch">6.3 - Backup desde PgAdmin</a></li>
<li><a href="64__backup_por_copia_de_ficheros.html" class="no-ch">6.4 - Backup por copia de ficheros</a></li>
</ul>
</div>
<div id='topPagination'><div class="pagination noprt"><a href="nota_previa.html" class="prev"><span>&laquo; </span>Anterior</a> | <a href="3__ficheros_de_configuracin.html" class="next"> Siguiente<span> &raquo;</span></a></div>
</div><div id="main">
<div id="nodeDecoration"><h1 id="nodeTitle">2. Arranque y parada del sistema</h1></div>
<div class="FreeTextIdevice" id="id1">
<div class="iDevice emphasis0">
<div id="ta1_1" class="block" style="display:block;position:relative"><p><strong>2 - Arranque y parada del sistema</strong><br /><span style="color: #000000;"><span style="font-family: Arial;">Haremos la parada y arranque del sistema en modo l&iacute;nea desde una consola, y tambi&eacute;n lo intentaremos desde PgAdmin.</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">- En Windows:</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">Autom&aacute;tico.</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">Por haber pedido en la instalaci&oacute;n como un servicio, manualmente podemos elegir la opci&oacute;n siempre que tengamos una versi&oacute;n anterior a la 8.4</span></span></p>
<p style="margin-left: 0.25cm; border: none; padding: 0cm;"><em><span style="color: #0000cd;"><span style="font-family: Courier New;">Inicio-&gt;TodoslosProgramas-&gt;PostgreSQL8.3-&gt;StartService.</span></span></em></p>
<p style="margin-left: 0.25cm;"><span style="color: #000000;"><span style="font-family: Arial;">Para pararlo</span></span></p>
<p style="margin-left: 0.25cm; border: none; padding: 0cm;"><em><span style="color: #0000cd;"><span style="font-family: Courier New;">Inicio-&gt;TodoslosProgramas-&gt;PostgreSQL8.3-&gt;StopService.</span></span></em></p>
<p style="margin-left: 0.25cm;"><span style="color: #000000;"><span style="font-family: Arial;">Utilizando </span></span><strong>pg_ctl.exe</strong><span style="color: #000000;"><span style="font-family: Arial;">.</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">Es el programa equivalente al script de Linux. Se encuentra con los ficheros ejecutables</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">(</span></span><em>C:\ArchivosdePrograma\PostgreSQL\9.2\bin</em><span style="color: #000000;"><span style="font-family: Arial;">).</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">Da problemas en las opciones de arranque si se ejecuta como administrador del sistema,por tanto lo deber&iacute;amos hacer desde una consola como el usuario de S.O. posgres(mir&aacute;is la nota previa al inicio del tema por ver como abrir una consola de posgres en Windows).</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;">Tendremos las mismas opciones que hemos visto en el caso de Linux.</span></span></p>
<p><span style="color: #000000;"><span style="font-family: Arial;"><span style="font-size: medium;">En la siguiente imagen tenemos la orden que hace posible el rearranque por medio de </span></span></span><strong><span style="font-size: medium;">pg_ctl.exe</span></strong><span style="color: #000000;"><span style="font-family: Arial;"><span style="font-size: medium;">, donde la Base de Datos est&aacute; en </span></span></span><em><span style="font-size: medium;">C:\ArchivosdePrograma\PostgreSQL\9.2\data </span></em><span style="color: #000000;"><span style="font-family: Arial;"><span style="font-size: medium;">(observa que se trata de una consola ejecutada como </span></span></span><em><span style="font-size: medium;">posgres</span></em><span style="color: #000000;"><span style="font-family: Arial;"><span style="font-size: medium;">):</span></span></span></p>
<p style="margin-bottom: 0cm;">&nbsp;</p>
<p>&nbsp;</p>
<p><img src="Tema5_Imagen2-2_cmd.png" style="width: 639px; height: 344px;" height="344" width="639" /></p>
<p>&nbsp;</p>
<p>Ejecutando directamente el programa postgres.exe situado en el mismo lugar. Tendremos las opciones :</p>
<blockquote><span style="color: #0000ff;">postgresql-8.3 opci&oacute;n</span></blockquote>
<p>donde la opci&oacute;n puede ser:</p>
<blockquote>
<blockquote>
<p><strong>start</strong> arranca el servidor</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote><strong>stop</strong> lo para<br /> <strong>restart</strong> rearranca (lo para, y lo vuelve a poner en marcha)<br /> <strong>reload</strong> vuelve a leer los ficheros de configuraci&oacute;n (sin rearrancar)<br /> <strong>status </strong>ver el estado en que se encuentra actualmente (en marcha, parado, ...), y otros informaciones de inter&eacute;s</blockquote>
</blockquote>
<p>&nbsp;</p>
<p><span style="color: #0000ff;">Con PgAdmin</span></p>
<p>Si tenemos bien configurada la conexi&oacute;n al servidor como posgres podremos parar y poner en marcha el servidor. Para eso debemos tener donde dice Servicio (Service) bien el servicio de Windows (como en la figura) o bien la ruta de pg_ctl con los par&aacute;metros necesarios para poder arrancar</p>
<p>&nbsp;</p>
<blockquote>
<blockquote>
<p><img src="Tema5_2_3_1.JPG" height="374" width="359" /></p>
</blockquote>
</blockquote>
<p>Esta entrada era la &uacute;nica que hab&iacute;a por defecto, y es para el usuario posgres. Si es as&iacute; podremos parar o poner en marcha, bien en el men&uacute; de herramientas, bien en el men&uacute; emergente sobre el servidor</p>
<p>&nbsp;</p>
<p><img src="Tema5_2_3_2.JPG" height="363" hspace="30" width="460" /></p>
<p><strong>Nota </strong></p>
<p>Es muy posible que si hemos ido jugando con pg_ctl.exe o postgres.exe para reiniciar el servidor PostgreSQL, que en el pgAdmin no se pueda iniciar o parar el servidor. De hecho solo nos propondr&aacute; Iniciar el servicio, cuando a lo mejor lo tenemos ya en marcha.</p>
<p>Seguramente todo volver&aacute; a funcionar correctamente la siguiente vez que arranquemos Windows.</p>
<p>&nbsp;</p>
<p class="Textbody" style="margin-bottom: 0.0001pt;"><span style="font-family: Arial; color: black;">En </span><span style="font-family: Arial; color: black;">Linux,</span><span style="font-family: Arial; color: black;">aunque </span><span style="font-family: Arial; color: black;">parezca </span><span style="font-family: Arial; color: black;">mentira,</span><span style="font-family: Arial; color: black;">es </span><span style="font-family: Arial; color: black;">m&aacute;s </span><span style="font-family: Arial; color: black;">complicado </span><span style="font-family: Arial; color: black;">parar </span><span style="font-family: Arial; color: black;">y </span><span style="font-family: Arial; color: black;">poner </span><span style="font-family: Arial; color: black;">en </span><span style="font-family: Arial; color: black;">marcha </span><span style="font-family: Arial; color: black;">desde pgAdmin. </span><span style="font-family: Arial; color: black;">Como </span><span style="font-family: Arial; color: black;">m&iacute;nimo </span><span style="font-family: Arial; color: black;">desde </span><span style="font-family: Arial; color: black;">la </span><span style="font-family: Arial; color: black;">versi&oacute;n </span><span style="font-family: Arial; color: black;">que </span><span style="font-family: Arial; color: black;">se </span><span style="font-family: Arial; color: black;">est&aacute; </span><span style="font-family: Arial; color: black;">documentando </span><span style="font-family: Arial; color: black;">en </span><span style="font-family: Arial; color: black;">estos </span><span style="font-family: Arial; color: black;">apuntes, </span><span style="font-family: Arial; color: black;">que </span><span style="font-family: Arial; color: black;">para </span><span style="font-family: Arial; color: black;">el </span><span style="font-family: Arial; color: black;">pgAdmin </span><span style="font-family: Arial; color: black;">instalado </span><span style="font-family: Arial; color: black;">por </span><span style="font-family: Arial; color: black;">paquetes </span><span style="font-family: Arial; color: black;">en </span><span style="font-family: Arial; color: black;">Ubuntu </span><span style="font-family: Arial; color: black;">es </span><span style="font-family: Arial; color: black;">la </span><span style="font-family: Arial; color: black;">1.4.3.</span><span style="font-family: Arial; color: black;">Tal </span><span style="font-family: Arial; color: black;">y </span><span style="font-family: Arial; color: black;">como </span><span style="font-family: Arial; color: black;">dice </span><span style="font-family: Arial; color: black;">la </span><span style="font-family: Arial; color: black;">documentaci&oacute;n </span><span style="font-family: Arial; color: black;">deberemos </span><span style="font-family: Arial; color: black;">colocar </span><span style="font-family: Arial; color: black;">en </span><span style="font-family: Arial; color: black;">el </span><span style="font-family: Arial; color: black;">servicio </span><span style="font-family: Arial; color: black;">la </span><span style="font-family: Arial; color: black;">orden </span><span style="font-family: Arial; color: black;">que </span><span style="font-family: Arial; color: black;">pondr&iacute;a </span><span style="font-family: Arial; color: black;">en </span><span style="font-family: Arial; color: black;">marcha </span><span style="font-family: Arial; color: black;">o </span><span style="font-family: Arial; color: black;">parar&iacute;a </span><span style="font-family: Arial; color: black;">el </span><span style="font-family: Arial; color: black;">servidor </span><span style="font-family: Arial; color: black;">utilizando </span><strong><span>pg_ctl</span></strong><span style="font-family: Arial; color: black;">, </span><span style="font-family: Arial; color: black;">que </span><span style="font-family: Arial; color: black;">ser&iacute;a </span><span style="font-family: Arial; color: black;">esta:</span></p>
<p class="Textbody" style="margin-bottom: 0.0001pt;"><span style="font-family: Arial; color: black;">&nbsp;</span></p>
<p class="Textbody" style="margin-left: 1cm;"><strong><span style="font-family: 'Courier New'; color: #1f497d;">sudo</span></strong><strong><span style="font-family: 'Courier New'; color: #1f497d;">-u</span></strong><strong><span style="font-family: 'Courier New'; color: #1f497d;">posgres</span></strong><strong><span style="font-family: 'Courier New'; color: #1f497d;">/usr/lib/postgresql/9.2/bin/pg_ctl</span></strong><strong><span style="font-family: 'Courier New'; color: #1f497d;">-D</span></strong></p>
<p class="Textbody" style="margin-left: 1cm;"><strong><span style="font-family: 'Courier New'; color: #1f497d;">/var/lib/postgresql/9.2/main</span></strong><strong><span style="font-family: 'Courier New'; color: #1f497d;">-o</span></strong><strong><span style="font-family: 'Courier New'; color: #1f497d;">'-c</span></strong></p>
<p class="Textbody" style="margin-left: 1cm;"><strong><span style="font-family: 'Courier New'; color: #1f497d;" lang="FR">config_file=/etc/postgresql/9.2/main/postgresql.conf'</span></strong></p>
<p><br /> <br /> Pero adem&aacute;s se deber&iacute;a ejecutar el pgAdmin como root, ya que si no, no tendr&iacute;a efecto el sudo.<br /> Por tanto, como veis, un poco "rollo"...</p>
<p>&nbsp;</p></div></div>
</div>
<div id='bottomPagination'><div class="pagination noprt"><a href="nota_previa.html" class="prev"><span>&laquo; </span>Anterior</a> | <a href="3__ficheros_de_configuracin.html" class="next"> Siguiente<span> &raquo;</span></a></div>
</div></div>
</div>
</body></html>
